

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.1. Python for tomography scientists as beginners &mdash; Algotom&#39;s documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Algotom&#39;s documentation" href="../../index.html"/>
        <link rel="up" title="1. Basic tutorials" href="../section1.html"/>
        <link rel="next" title="1.2. Common data format at synchrotron facilities" href="section1_2.html"/>
        <link rel="prev" title="1. Basic tutorials" href="../section1.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Algotom
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../section1.html">1. Basic tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.1. Python for tomography scientists as beginners</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-python-and-tools-for-writing-codes">1.1.1. Installing Python and tools for writing codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-ecosystem-of-libraries">1.1.2. Python ecosystem of libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#where-how-to-start-coding">1.1.3. Where/how to start coding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="section1_2.html">1.2. Common data format at synchrotron facilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="section1_3.html">1.3. Basic components of an X-ray tomography system</a></li>
<li class="toctree-l2"><a class="reference internal" href="section1_4.html">1.4. Basic workflow for processing tomographic data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../section2.html">2. Features and capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../section3.html">3. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../section4.html">4. Demonstrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../section5.html">5. Technical notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../section6.html">6. Update notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">7. API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">8. Credits</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Algotom</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../section1.html"><span class="section-number">1. </span>Basic tutorials</a> &raquo;</li>
        
      <li><span class="section-number">1.1. </span>Python for tomography scientists as beginners</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/toc/section1/section1_1.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="python-for-tomography-scientists-as-beginners">
<span id="section1-1"></span><h1><span class="section-number">1.1. </span>Python for tomography scientists as beginners<a class="headerlink" href="#python-for-tomography-scientists-as-beginners" title="Permalink to this heading">¶</a></h1>
<p>It is common that well-made software cannot provide all the tools for scientists
to perform their analysis. In such cases, knowing how to program becomes crucial.
There are many open-source programming languages to choose, in which Python and its rich
ecosystem are dominantly used in the science community for its ease-of-use. This section
dedicates to whom would like to write Python codes to process their data but
don’t know where to start. There are many ways/resources to install/learn Python,
however, the section focuses to present approaches which are easy-to-follow and practical.</p>
<section id="installing-python-and-tools-for-writing-codes">
<h2><span class="section-number">1.1.1. </span>Installing Python and tools for writing codes<a class="headerlink" href="#installing-python-and-tools-for-writing-codes" title="Permalink to this heading">¶</a></h2>
<p>To start, users need to install two software: one is Python and one is for
writing codes, known as IDE (Integrated Development Environment) software.
The second one is optional but it’s important for coding and debugging efficiently.
Python can be downloaded and installed through <a class="reference external" href="https://www.anaconda.com/products/individual">Anaconda</a>
which not only distributes Python and its ecosystem but also <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/download.html">Conda</a>,
a package management software, to install Python libraries with easy. These open-source
libraries, contributed by the developer community, are the main reason for the
popularity of Python.</p>
<p>After installing Anaconda, users can run Anaconda Powershell Prompt (e.g. on WinOS)
to manage and install Python packages (i.e. libraries). A collection of Python
packages installed is known as an environment. An environment created by a
package manager (e.g. Conda) helps to deal with the conflict of Python packages
using different versions of dependencies. This <a class="reference external" href="https://www.freecodecamp.org/news/why-you-need-python-environments-and-how-to-manage-them-with-conda-85f155f4353c/">link</a>
is useful for whom want to know more about Python environment. There is a
<a class="reference external" href="https://docs.anaconda.com/anaconda/packages/pkg-docs/">list</a> of popular
Python libraries shipped with Anaconda, known as the <em>base</em> environment. To install
Python packages out of the list, it’s a good practice that users should create a
separate environment from the base. Instructions of how to create a new environment
and how to install new packages are <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">here</a>
and <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-pkgs.html">here</a>.</p>
<figure class="align-center" id="fig-1-1-1" style="width: 98%">
<img alt="../../_images/fig_1_1_1.png" src="../../_images/fig_1_1_1.png" />
<figcaption>
<p><span class="caption-number">Fig. 1.1.1 </span><span class="caption-text">Combination of conda commands to: create an environment named algotom, install
Python 3.9, activate the environment, then install the algotom package from
the <a class="reference external" href="https://anaconda.org/algotom">algotom channel</a>.</span><a class="headerlink" href="#fig-1-1-1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The next step is to install an IDE software for writing codes. There are many free
choices: <a class="reference external" href="https://www.jetbrains.com/pycharm/download/">Pycharm (Community edition)</a>,
Pydev, Spyder, or VS Code. Here, we recommend to use Pycharm because it is
charming as the name suggested. After installing Pycharm, users have to configure the
software to link to a Python interpreter by pointing to the location of Python
packages installed (<a class="reference internal" href="#fig-1-1-2"><span class="std std-numref">Fig. 1.1.2</span></a>).</p>
<figure class="align-center" id="fig-1-1-2" style="width: 98%">
<img alt="../../_images/fig_1_1_2.png" src="../../_images/fig_1_1_2.png" />
<figcaption>
<p><span class="caption-number">Fig. 1.1.2 </span><span class="caption-text">Demonstration of how to configure Pycharm to link to a Python environment.</span><a class="headerlink" href="#fig-1-1-2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="python-ecosystem-of-libraries">
<h2><span class="section-number">1.1.2. </span>Python ecosystem of libraries<a class="headerlink" href="#python-ecosystem-of-libraries" title="Permalink to this heading">¶</a></h2>
<p>The power and popularity of Python come from its enormous ecosystem. Crucially,
supporting tools such as Conda, Pip, and Github make it very easy for developers/users
to develop/install Python libraries. Nowadays, imaging scientists can use Python
libraries to perform almost every task in the workflow from data acquisition,
data processing, data analysis, to data visualization. Python libraries can be
classified into a few types. The first one is <a class="reference external" href="https://docs.python.org/3/library/">the standard library</a>,
i.e. the built-in packages. They are shipped with Python. The second type is well-developed
and popular libraries maintained by dedicated software development teams. List of
such libraries can be found in this <a class="reference external" href="https://docs.anaconda.com/anaconda/packages/pkg-docs/">link</a>
which are shipped with <a class="reference external" href="https://www.anaconda.com/products/individual">Anaconda software</a>.
The third type are libraries developed by organizations, academic institutions, or research groups
dedicated to specific technical/scientific areas. The last type of libraries
is contributed by individuals who would like to share their works.</p>
<p>A Python package is commonly built based on other Python libraries known as <em>dependencies</em>.
This can cause conflicts between libraries using different versions of the same
libraries. In such cases, a package manager like Conda is crucially needed.
Python libraries are distributed through <a class="reference external" href="https://anaconda.org/">https://anaconda.org/</a> and <a class="reference external" href="https://pypi.org/">https://pypi.org/</a>.
Users can search packages they need in these websites where instructions of
how to install these packages using the <em>conda</em> or <em>pip</em> command are shown on
the page of each package. Lots of Python packages are distributed on both platforms.
However, there are packages only available in one platform. Fortunately, Conda allows
to use <em>pip</em> to install packages as well. Users are recommended to check this <a class="reference external" href="https://www.freecodecamp.org/news/why-you-need-python-environments-and-how-to-manage-them-with-conda-85f155f4353c/">tutorial</a>
to know more about the difference between <em>conda</em> and <em>pip</em>.</p>
<p>The following list shows some Python packages which are useful for the tomography
community. The selected packages are installable using <em>conda/pip</em> and work across
OS (Windows, Linux, Mac).</p>
<ul class="simple">
<li><p>Numerical computing: Numpy, Scipy, Pyfftw, Pywavelets, …</p></li>
<li><p>Image processing: Scikit-image, Pillow, Discorpy, Opencv, …</p></li>
<li><p>Tomographic data processing: Tomopy, Astra Toolbox, Algotom, Cil, …</p></li>
<li><p>GPU computing: Numba, Cupy, …</p></li>
<li><p>Hdf file handling: H5py</p></li>
<li><p>Data visualisation: Matplotlib, Vtk, …</p></li>
<li><p>Parallel processing: Joblib, Dask, …</p></li>
</ul>
<p>There are other Python software for processing tomographic data such as Savu,
Tigre, tofu-ufo, or Pyhst2. However, they either don’t work across OS or are not
distributed with <em>conda/pip</em>.</p>
</section>
<section id="where-how-to-start-coding">
<h2><span class="section-number">1.1.3. </span>Where/how to start coding<a class="headerlink" href="#where-how-to-start-coding" title="Permalink to this heading">¶</a></h2>
<p>Python is the programming language that one can learn easily using the top-down
approach instead of the bottom-up one which takes time. For example, one can
start by asking questions such as: how to read an image, apply a smoothing
filter, and save the result; then finding the answers using Google, <a class="reference external" href="https://stackoverflow.com/search?q=how+to+read+an+image+Python">Stackoverflow</a>,
or referring codes shared on <a class="reference external" href="https://github.com/">Github</a>. The following presents
notes and tips about Python users may find useful before diving into coding.</p>
<ul>
<li><p>For quickly getting to know the syntax of the Python language, the <a class="reference external" href="https://python-course.eu/python-tutorial/structuring-indentation.php">python-course.eu
website</a>
is a good place to start.</p></li>
<li><p>In computational applications, we don’t often use the standard library of
Python but the <a class="reference external" href="https://numpy.org/doc/stable/reference/routines.html">Numpy</a> library.
Almost all of computational Python-libraries are built on top of Numpy. Although
it is a backbone for the success of Python, Numpy is not included into the standard
library of Python. Users have to install it separately, or they can just install
a package which has Numpy as a dependency. The following codes show
an example of how to find the sum of a list of float numbers using both
approaches: the standard library and Numpy. A rule of thumb is to avoid
using the standard library for computational works which use looping
operations. Numpy provides most of basic tools, optimized for speed,
to perform math operations on n-dimension arrays. Users can build complex
applications on top of these tools.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">]</span>
<span class="c1"># Using the standard lib</span>
<span class="nb">sum</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">:</span>
    <span class="nb">sum</span> <span class="o">=</span> <span class="nb">sum</span> <span class="o">+</span> <span class="n">i</span>
<span class="c1"># Using Numpy</span>
<span class="nb">sum</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">vals</span><span class="p">))</span>
</pre></div>
</div>
</li>
<li><p>Functions (known as methods) in each Python library is organized into folders,
sub-folders (known as packages), then Python files (known as modules). Users
can use functions needed by importing a whole package, specific sub-packages,
specific modules, or specific methods.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">scipy</span>  <span class="c1"># Load the whole package</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">ndimage</span> <span class="k">as</span> <span class="n">ndi</span> <span class="c1"># Import sub-package, give it an alias name.</span>
<span class="kn">import</span> <span class="nn">scipy.ndimage</span> <span class="k">as</span> <span class="nn">ndi</span> <span class="c1"># Another way to import sub-packge.</span>
<span class="kn">import</span> <span class="nn">scipy.ndimage.filters</span> <span class="k">as</span> <span class="nn">fil</span> <span class="c1"># Import a module, give it an alias name.</span>
<span class="kn">from</span> <span class="nn">scipy.ndimage.filters</span> <span class="kn">import</span> <span class="n">gaussian_filter</span> <span class="c1"># Import a specific method in a module.</span>
</pre></div>
</div>
<p>Because Python libraries are a huge collection of functions, users better use
the help of IDE software to find the right functions as demonstrated in
<a class="reference internal" href="#fig-1-1-3"><span class="std std-numref">Fig. 1.1.3</span></a>. Using alias names for importing packages is a good
practice to avoid the naming conflict, i.e. a user-defined function is named
the same as a function in the library.</p>
<figure class="align-center" id="fig-1-1-3" style="width: 90%">
<img alt="../../_images/fig_1_1_3.png" src="../../_images/fig_1_1_3.png" />
<figcaption>
<p><span class="caption-number">Fig. 1.1.3 </span><span class="caption-text">Demonstration of how Pycharm can help to see a list of available functions.</span><a class="headerlink" href="#fig-1-1-3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</li>
<li><p>There are n-dimension array objects created by different Python libraries
which look similar but their properties and uses are different. Users have
to make sure that they use the right methods on the right objects.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">dask.array</span> <span class="k">as</span> <span class="nn">da</span>
<span class="kn">import</span> <span class="nn">cupy</span> <span class="k">as</span> <span class="nn">cp</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]]</span> <span class="c1"># Python-list object</span>
<span class="n">data_np</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># Numpy-array object</span>
<span class="n">data_da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">from_array</span><span class="p">(</span><span class="n">data_np</span><span class="p">)</span> <span class="c1"># Dask-array object</span>
<span class="n">data_cp</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># Cupy-array object</span>
</pre></div>
</div>
</li>
<li><p>To use functions from Python packages in a script, users use the <em>import</em> command
as shown above. When the command is executed, the Python interpreter automatically
checks a few places to find such packages: paths in the system environment
variables (e.g. WinOS: “Edit the system environment variables”
-&gt; “Environment variable”), paths in the current Python environment
(e.g. WinOS: “C:Users&lt;user_ID&gt;Anaconda3envs&lt;env_name&gt;”), and the current location
of the script. If the import fails, users need to check: if the package is
installed (e.g. using <cite>conda list</cite> in an activated environment) and/or if
the package is at the same path as the script.</p>
<p>In Pycharm, if a package keeps
<a class="reference external" href="https://intellij-support.jetbrains.com/hc/en-us/articles/360010202240-PyCharm-can-t-install-import-a-package-library-module#:~:text=Troubleshooting%3A,and%20then%20do%20the%20test.">failing to import</a>
, even though the package is installed and the Pycharm project is
configured to the right Python environment, users can try one of the following ways:</p>
<blockquote>
<div><ul class="simple">
<li><p>Run <cite>conda init</cite>.</p></li>
<li><p>Run Pycharm from the activated environment (e.g Win OS: Powershell Prompt -&gt; conda activate &lt;env_name&gt; -&gt; pycharm)</p></li>
</ul>
</div></blockquote>
<p>If users want to add the path to a package manually, they can do that as follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;C:/&lt;Path-to-package&gt;&quot;</span><span class="p">)</span>
<span class="kn">import</span> <span class="o">&lt;</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>this is handy when users download a Python package somewhere and want to import
its functions to the current script without installing the package. Note
that Python libs (dependencies) used by the package need to be installed.</p>
</li>
<li><p>Video tutorials are the best resources to learn new things quickly. There are
many amazing tutorials on Youtube.com (free), Udemy.com (not free but at
affordable price). They teach nearly everything about Python and its ecosystem.
For tomography scientists, the <a class="reference external" href="https://www.youtube.com/c/DigitalSreeni/playlists">youtube channel</a>
of Dr. Sreenivas Bhattiprolu is highly recommended. The uploaded tutorials
accompanied by <a class="reference external" href="https://github.com/bnsreenu/python_for_microscopists">Python codes</a>
cover from <a class="reference external" href="https://www.youtube.com/playlist?list=PLHae9ggVvqPgyRQQOtENr6hK0m1UquGaG">basic topics of image processing</a>
to advanced topics such as <a class="reference external" href="https://www.youtube.com/c/DigitalSreeni/playlists">image segmentation and deep-learning</a>.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="section1_2.html" class="btn btn-neutral float-right" title="1.2. Common data format at synchrotron facilities" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../section1.html" class="btn btn-neutral" title="1. Basic tutorials" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Nghia T. Vo.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Sphinx-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>